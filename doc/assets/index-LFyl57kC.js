(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const y of s.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const q=`<section class="todoapp">\r
    <header class="header">\r
        <h1>Tareas</h1>\r
        <input id="new-todo-input" class="new-todo" placeholder="Â¿QuÃ© necesita ser hecho?" autofocus>\r
    </header>\r
    \r
    <!-- This section should be hidden by default and shown when there are todos -->\r
    <section class="main">\r
        <input id="toggle-all" class="toggle-all" type="checkbox">\r
        <label for="toggle-all">Mark all as complete</label>\r
        <ul class="todo-list">\r
        </ul>\r
    </section>\r
\r
    <!-- This footer should hidden by default and shown when there are todos -->\r
    <footer class="footer">\r
        <!-- This should be "0 items left" by default -->\r
        <span class="todo-count"><strong id="pending-count">0</strong> pendiente(s)</span>\r
        <!-- Remove this if you don't implement routing -->\r
        <ul class="filters">\r
            <li>\r
                <a class="filtro" class="selected" href="#/">Todos</a>\r
            </li>\r
            <li>\r
                <a class="filtro" href="#/active">Pendientes</a>\r
            </li>\r
            <li>\r
                <a class="filtro" href="#/completed">Completados</a>\r
            </li>\r
        </ul>\r
        <!-- Hidden if no completed items are left â†“ -->\r
        <button class="clear-completed">Borrar completados</button>\r
    </footer>\r
</section>\r
\r
\r
<footer class="info">\r
    <p>Template creado por <a href="http://sindresorhus.com">Sindre Sorhus</a></p>\r
    <!-- Change this out with your name and url â†“ -->\r
    <p>Creado por <a href="http://todomvc.com">ti</a></p>\r
    <p>Parte de <a href="http://todomvc.com">TodoMVC</a></p>\r
</footer>`,l=[];for(let t=0;t<256;++t)l.push((t+256).toString(16).slice(1));function M(t,e=0){return(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase()}let D;const U=new Uint8Array(16);function G(){if(!D){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D=crypto.getRandomValues.bind(crypto)}return D(U)}const $=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C={randomUUID:$};function k(t,e,n){t=t||{};const r=t.random??t.rng?.()??G();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,M(r)}function x(t,e,n){return C.randomUUID&&!t?C.randomUUID():k(t)}class u{constructor(e){if(!e)throw new Error("description es requerida");this.id=x(),this.description=e,this.done=!1,this.createdAt=new Date}}const i={ALL:1,COMPLETED:2,PENDING:3};class O{constructor(){this.todos=[new u("Piedra del alma"),new u("Piedra del tiempo"),new u("Piedra del espacio"),new u("Piedra de la realidad"),new u("Piedra del poder")],this.filter=i.ALL}initStore=()=>{this.loadStore(),console.log("InitStore ðŸ¥‘: ",{...this})};saveStateToLocalStorage=()=>{localStorage.setItem("state",JSON.stringify({todos:this.todos,filter:this.filter}))};loadStore=()=>{if(localStorage.getItem("state")){const{todos:e=[],filter:n=i.ALL}=JSON.parse(localStorage.getItem("state"));this.todos=e,this.filter=n}};addTodo=e=>{if(!e)throw new Error("description es requerida");this.loadStore();const n=new u(e);this.todos.push(n),this.saveStateToLocalStorage()};toggleTodo=e=>{if(!e)throw new Error("id es requerido");this.loadStore();const n=this.todos.findIndex(r=>r.id===e);if(n===-1)throw new Error("Todo no encontrado");return this.todos[n].done=!this.todos[n].done,this.saveStateToLocalStorage(),this.todos[n]};toggleAllTodo=e=>{if(typeof e!="boolean")throw new Error("done debe ser un booleano");this.todos=this.todos.map(n=>({...n,done:e})),this.saveStateToLocalStorage()};deleteTodo=e=>{if(!e)throw new Error("id es requerido");this.todos=this.todos.filter(n=>n.id!==e),this.saveStateToLocalStorage()};deleteTodoCompleted=()=>{this.todos=this.todos.filter(e=>!e.done),this.saveStateToLocalStorage()};getTodos=(e=i.ALL)=>{if(this.loadStore(),!e)throw new Error("filter es requerido");if(!Object.values(i).includes(e))throw new Error("Filter no vÃ¡lido");switch(e){case i.COMPLETED:return this.todos.filter(n=>n.done);case i.PENDING:return this.todos.filter(n=>!n.done);case i.ALL:return this.todos;default:throw new Error("Filter no vÃ¡lido")}};set setFilter(e=i.ALL){if(!e)throw new Error("filter es requerido");if(!Object.values(i).includes(e))throw new Error("Filter no vÃ¡lido");this.filter=e,this.saveStateToLocalStorage()}get getCurrentFilter(){return this.filter}}const F=t=>{if(!t)throw new Error("todo es requerido");const{description:e,done:n,id:r}=t,o=`<div class="view">
                    <input class="toggle" type="checkbox" ${n?"checked":""}>
                    <label>${e}</label>
                    <button class="destroy"></button>
                </div>
                <input class="edit" value="Create a TodoMVC template">`,s=document.createElement("li");return n&&s.classList.add("completed"),s.setAttribute("data-id",r),s.innerHTML=o,s};let f;const R=(t,e)=>{if(!e)throw new Error("todos es requerido");if(f||(f=document.querySelector(t)),!f)throw new Error("No se encontrÃ³ el elemento con id todo-list");f.innerHTML="",e.forEach(n=>{f.append(F(n))})},{getTodos:H}=new O;let E;const V={TODOS_PENDING:"#pending-count"},j=()=>{if(E||(E=document.querySelector(V.TODOS_PENDING)),!E)throw new Error("No se encontrÃ³ el elemento con id pending-count");const t=H(i.PENDING);E.innerText=t.length},A=new O,{getTodos:B,loadStore:W}=A;let S=[],I,L,m,T,N;const a={TODO_LIST:".todo-list",NEW_TODO_INPUT:"#new-todo-input",TODO_TOGGLE_ALL:"#toggle-all",TODO_MAIN_SECTION:".main",TODO_FILTERS:".filtro",DELETE_COMPLETED:".clear-completed",TODOS_PENDING:"#pending-count"},J=t=>{if(Object.values(a).includes(t)===!1)throw new Error("elementId no es vÃ¡lido");W(),S=B(A.getCurrentFilter),R(t,S)},K=()=>{L.querySelectorAll("li").length===0?m.style.display="none":m.style.display="block"},Q=()=>{S.filter(t=>!t.done).length===S.length?T.style.display="none":T.style.display="block"},d=()=>{if(J(a.TODO_LIST),I||(I=document.querySelector(a.TODO_TOGGLE_ALL)),!I)throw new Error("No se encontrÃ³ el elemento todoToggleAll");if(L||(L=document.querySelector(a.TODO_LIST)),!L)throw new Error("No se encontrÃ³ el elemento todoListUL");if(m||(m=document.querySelector(a.TODO_MAIN_SECTION)),!m)throw new Error("No se encontrÃ³ el elemento todoMainSection");if(T||(T=document.querySelector(a.DELETE_COMPLETED)),!T)throw new Error("No se encontrÃ³ el elemento todoClearCompleted");if(N||(N=document.querySelectorAll(a.TODO_FILTERS)),!N)throw new Error("No se encontrÃ³ el elemento filtersLI");Q(),K(),j()},P=new O,{deleteTodo:z,deleteTodoCompleted:X,addTodo:Y,toggleTodo:Z,toggleAllTodo:v,getTodos:ee,saveStateToLocalStorage:se}=P;let h=[],w,p,b,_,g;const c={TODO_LIST:".todo-list",NEW_TODO_INPUT:"#new-todo-input",TODO_TOGGLE_ALL:"#toggle-all",TODO_MAIN_SECTION:".main",TODO_FILTERS:".filtro",DELETE_COMPLETED:".clear-completed"},te=()=>{if(w||(w=document.querySelector(c.TODO_TOGGLE_ALL)),!w)throw new Error("No se encontrÃ³ el elemento todoToggleAll");if(p||(p=document.querySelector(c.TODO_LIST)),!p)throw new Error("No se encontrÃ³ el elemento todoListUL");if(b||(b=document.querySelector(c.TODO_MAIN_SECTION)),!b)throw new Error("No se encontrÃ³ el elemento todoMainSection");if(_||(_=document.querySelector(c.DELETE_COMPLETED)),!_)throw new Error("No se encontrÃ³ el elemento todoClearCompleted");if(g||(g=document.querySelectorAll(c.TODO_FILTERS)),!g)throw new Error("No se encontrÃ³ el elemento filtersLI")},oe=t=>{if(!document.querySelector(t))throw new Error("elementId no es vÃ¡lido");(()=>{const r=document.createElement("div");r.innerHTML=q,document.querySelector(t).append(r),d(),te()})();const e=document.querySelector(c.NEW_TODO_INPUT),n=document.querySelector(c.DELETE_COMPLETED);e.addEventListener("keyup",r=>{if(r.keyCode===13){if(r.target.value.trim().length===0||h.filter(o=>o.description.trim().toLowerCase()===r.target.value.trim().toLowerCase()).length>0)return;Y(e.value),e.value="",d()}}),p.addEventListener("click",r=>{const o=r.target.closest("[data-id]");o&&(Z(o.getAttribute("data-id"),h),d())}),w.addEventListener("click",()=>{h=ee(),h.length!==0&&(h.filter(r=>!r.done).length===h.length?v(!0):v(!1)),d()}),p.addEventListener("click",r=>{const o=r.target.closest("[data-id]");if(!o)return;r.target.classList.contains("destroy")&&(z(o.getAttribute("data-id")),d())}),n.addEventListener("click",()=>{X(),d()}),g.forEach(r=>{r.addEventListener("click",o=>{switch(g.forEach(s=>s.classList.remove("selected")),o.target.classList.add("selected"),o.target.text){case"Todos":o.target.setAttribute("data-filter",i.ALL);break;case"Pendientes":o.target.setAttribute("data-filter",i.PENDING);break;case"Completados":o.target.setAttribute("data-filter",i.COMPLETED);break}P.setFilter=o.target.getAttribute("data-filter")*1,d()})})},re=new O,{initStore:ne}=re;ne();oe("#app");
